!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("classnames"),require("underscore"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","classnames","underscore","react-dom"],t):"object"==typeof exports?exports.ReactMGM=t(require("react"),require("classnames"),require("underscore"),require("react-dom")):e.ReactMGM=t(e.react,e.classnames,e.underscore,e["react-dom"])}(this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(5),o=r(a),i=n(10),s=r(i),l=n(28),u=r(l),c=n(20),d=r(c),f=n(7),p=r(f),h=n(29),m=r(h),g=n(6),y=r(g),v=n(21),_=r(v),b=n(18),w=r(b),P=n(17),T=r(P),j=n(27),E=r(j),O=n(25),N=r(O),C=n(22),x=r(C),M=n(24),S=r(M),k=n(26),D=r(k),q=n(19),W=r(q),I=n(16),F=r(I),R=n(23),B=r(R);n(30);var L={Flex:o.default,Infinite:w.default,Textarea:u.default,NProgress:d.default,Mask:p.default,Toast:m.default,Loading:y.default,Page:_.default,Header:T.default,Storage:E.default,Slider:N.default,Popup:x.default,SearchBar:S.default,Square:D.default,LazyImg:W.default,Dialog:F.default,ScrollIntoView:B.default,Util:s.default};e.exports=L},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),s=n(2),l=r(s),u=n(3),c=r(u),d=i.default.createClass({displayName:"Flex",propTypes:{flex:i.default.PropTypes.oneOfType([i.default.PropTypes.number,i.default.PropTypes.bool]),auto:i.default.PropTypes.bool,none:i.default.PropTypes.bool,width:i.default.PropTypes.oneOfType([i.default.PropTypes.number,i.default.PropTypes.string]),height:i.default.PropTypes.oneOfType([i.default.PropTypes.number,i.default.PropTypes.string]),row:i.default.PropTypes.bool,column:i.default.PropTypes.bool,wrap:i.default.PropTypes.bool,nowrap:i.default.PropTypes.bool,justifyStart:i.default.PropTypes.bool,justifyEnd:i.default.PropTypes.bool,justifyCenter:i.default.PropTypes.bool,justifyBetween:i.default.PropTypes.bool,justifyAround:i.default.PropTypes.bool,alignStart:i.default.PropTypes.bool,alignEnd:i.default.PropTypes.bool,alignCenter:i.default.PropTypes.bool,alignBaseline:i.default.PropTypes.bool,alignStretch:i.default.PropTypes.bool},render:function(){var e=(0,l.default)({flex:!0,"flex-auto":this.props.auto,"flex-none":this.props.none||this.props.width||this.props.height,"flex-row":this.props.row,"flex-column":this.props.column,"flex-wrap":this.props.wrap,"flex-nowrap":this.props.nowrap,"flex-justify-start":this.props.justifyStart,"flex-justify-end":this.props.justifyEnd,"flex-justify-center":this.props.justifyCenter,"flex-justify-between":this.props.justifyBetween,"flex-justify-around":this.props.justifyAround,"flex-align-start":this.props.alignStart,"flex-align-end":this.props.alignEnd,"flex-align-center":this.props.alignCenter,"flex-align-baseline":this.props.alignBaseline,"flex-align-stretch":this.props.alignStretch},this.props.className),t=c.default.extend({},this.props.style);return this.props.flex&&(t.flex="boolean"==typeof this.props.flex?1:this.props.flex),this.props.height&&(t.height=this.props.height),this.props.width&&(t.width=this.props.width),i.default.createElement("div",a({},this.props,{className:e,style:t}),this.props.children)}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),s=i.default.createClass({displayName:"Loading",render:function(){return i.default.createElement("div",a({},this.props,{className:"loading"}),i.default.createElement("div",{className:"loading-inner"},i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_0"}),i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_1"}),i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_2"}),i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_3"}),i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_4"}),i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_5"}),i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_6"}),i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_7"}),i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_8"}),i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_9"}),i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_10"}),i.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_11"})))}});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),s=n(2),l=r(s),u=i.default.createClass({displayName:"Mask",propTypes:{transparent:i.default.PropTypes.bool,show:i.default.PropTypes.bool,opacity:i.default.PropTypes.number},getDefaultProps:function(){return{transparent:!1,show:!1}},render:function(){var e=(0,l.default)({mask:!this.props.transparent,"mask-transparent":this.props.transparent}),t={display:this.props.show?"block":"none",opacity:this.props.opacity};return i.default.createElement("div",a({},this.props,{className:e,style:t}))}});t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=function(){var e=[],t=0;return{add:function(n){return n.__id=t++,e.push(n),n.__id},remove:function(t){e=o.default.filter(e,function(e){return e.__id!==t})},interceptor:{request:function(t){var n=Promise.resolve(t);return o.default.each(e,function(e){e.request&&(n=n.then(function(n){return e.request(n)||t}))}),n},response:function(t,n){var r=Promise.resolve(t);return o.default.each(e,function(e){e.response&&(r=r.then(function(t){return e.response(t,n)||t}))}),r},responseError:function(t,n){var r=Promise.reject(t);return o.default.each(e,function(e){e.responseError&&(r=r.catch(function(t){return Promise.reject(e.responseError(t,n)||t)}))}),r}}}}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=function(e,t){var n=e;return arguments.length<2?n:n=n.replace(/\{([\d\w\.]+)\}/g,function(e){var n=arguments[1].split("."),r=null;return o.default.each(n,function(e,n){r=n?r[e]:t[e]}),r})};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(12),o=r(a),i=n(8),s=r(i),l=n(11),u=r(l),c=n(9),d=r(c),f=n(14),p=r(f),h=n(15),m=r(h),g=n(13),y=r(g);e.exports={Request:o.default,RequestInterceptor:s.default,format:d.default,param:u.default,isElementInViewport:p.default,isElementOverViewport:m.default,is:y.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=function(e){return o.default.map(e,function(e,t){return[encodeURIComponent(t),"=",encodeURIComponent(e)].join("")}).join("&").replace(/%20/g,"+")};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),o=r(a),i=n(9),s=r(i),l=n(3),u=r(l),c=n(8),d=r(c),f=function(e){return d.default.interceptor.request(e)},p=function(e,t,n,r){var a="color: #8a6d3b;";return e.then(function(e){if(e.ok){var t=e.headers.get("content-type");return t.indexOf("text/html")>-1?e.text().then(function(e){return e.indexOf("title>登陆</title")>-1?Promise.reject("请登录!"):Promise.reject("未知错误！！！！！")}):e.json()}return Promise.reject((0,s.default)("服务器错误 {status} {statusText}",e))}).then(function(e){return d.default.interceptor.response(e,r)},function(e){return Promise.reject(d.default.interceptor.responseError(e,r))}).then(function(e){return n.indexOf(e.code)>-1?e:(console.log("%c*** Request url: %s、code: %s、msg: %s",a,t,e.code,e.msg),Promise.reject(e.msg||"未知错误"))}).catch(function(e){return"[object Promise]"===toString.call(e)?e.catch(function(e){return console.error("%c*** Request catch %s",a,e),Promise.reject(""+e)}):(console.error("%c*** Request catch %s",a,e),Promise.reject(""+e))})},h=function(e,t){this._data={},this.url=e,this.sucCode=[0],this.options=Object.assign({method:"get",headers:{Accept:"application/json"},credentials:"include"},t)};h.prototype={code:function(e){return u.default.isArray(e)?this.sucCode=this.sucCode.concat(e):this.sucCode.push(e),this},data:function(e){return this._data=Object.assign({},e),"[object Object]"===toString.call(this._data)&&(this._data=u.default.pick(this._data,function(e){return null!==e&&void 0!==e})),this},json:function(e){return this._data=JSON.stringify(e),this},_getConfig:function(){var e=this;return{url:e.url,data:e._data,sucCode:e.sucCode,options:e.options}},_setConfig:function(e){var t=this;t.url=e.url,t._data=e.data,t.sucCode=e.sucCode,t.options=e.options},_beforeRequest:function(){var e=this;return f(e._getConfig()).then(e._setConfig.bind(e))},get:function(){var e=this;return e._beforeRequest().then(function(){var t=(0,o.default)(e._data),n=e.url+(e.url.indexOf("?")>-1?"&":"?")+t;return p(fetch(n,e.options),e.url,e.sucCode,e._getConfig())})},post:function(){var e,t=this,n=t._data;return t.options.method="post",t._beforeRequest().then(function(){if("[object Object]"===toString.call(n)){e=new FormData;for(var r in n)e.append(r,n[r])}else e=n;return t.options.body=e,p(fetch(t.url,t.options),t.url,t.sucCode,t._getConfig())})}};var m=function(e,t){return new h(e,t)};t.default=m},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.weixin=function(){return/MicroMessenger/i.test(navigator.userAgent)},t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect();return t.bottom>0&&t.right>0&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(2),d=r(c),f=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.handleCancel=n.handleCancel.bind(n),n.handleConfirm=n.handleConfirm.bind(n),n}return i(t,e),s(t,[{key:"handleConfirm",value:function(e){e.preventDefault(),this.props.onConfirm()}},{key:"handleCancel",value:function(e){e.preventDefault(),this.props.onCancel()}},{key:"render",value:function(){var e=this.props,t=(0,d.default)({weui_dialog_confirm:e.confirm,weui_dialog_alert:e.alert});return u.default.createElement("div",{className:t,style:{display:e.show?"block":"none"}},u.default.createElement("div",{className:"weui_mask"}),u.default.createElement("div",{className:"weui_dialog"},u.default.createElement("div",{className:"weui_dialog_hd"},u.default.createElement("strong",{className:"weui_dialog_title"},e.title)),u.default.createElement("div",{className:"weui_dialog_bd"},e.children),u.default.createElement("div",{className:"weui_dialog_ft"},e.confirm?u.default.createElement("a",{href:"javascript:;",className:"weui_btn_dialog default",onClick:this.handleCancel.bind(this)},"取消"):null,u.default.createElement("a",{href:"javascript:;",className:"weui_btn_dialog primary",onClick:this.handleConfirm.bind(this)},"确定"))))}}]),t}(u.default.Component);f.propTypes={show:l.PropTypes.bool,onConfirm:l.PropTypes.func.isRequired,onCancel:l.PropTypes.func,title:l.PropTypes.string.isRequired,alert:l.PropTypes.bool,confirm:l.PropTypes.bool},t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=o.default.createClass({displayName:"Header",render:function(){return o.default.createElement("div",{className:"header"},this.props.left?this.props.left:o.default.createElement("a",{href:"javascript:void(0);",className:"button button-link pull-left header-left",onClick:this.handleBack},o.default.createElement("i",{className:"ifont ifont-angle-left"}),"返回"),this.props.right?this.props.right:null,o.default.createElement("h1",{className:"header-title"},this.props.title))},handleBack:function(e){e.stopPropagation(),e.preventDefault(),this.props.history&&this.props.history.go(-1)}});t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),s=n(2),l=r(s),u=n(6),c=r(u),d=i.default.createClass({displayName:"Infinite",getInitialState:function(){return{loading:!1}},getDefaultProps:function(){return{onBottom:function(){},bottomOffset:100}},render:function(){var e=(0,l.default)("infinite",this.props.className);return i.default.createElement("div",a({ref:"infinite"},this.props,{className:e,onScroll:this.handleScroll}),this.props.children,i.default.createElement("div",{className:"infinite-loading"},this.state.loading&&i.default.createElement(c.default,null)))},timer:null,handleBottom:function(){var e=this;clearTimeout(this.timer),this.setState({loading:!0});var t=this.props.onBottom();t&&t.then?t.then(function(){e.setState({loading:!1})},function(){e.setState({loading:!1})}):this.timer=setTimeout(function(){e.setState({loading:!1})},500)},scrollTop:0,handleScroll:function(e){e.target.scrollTop>this.scrollTop&&(this.state.loading||e.target.clientHeight+e.target.scrollTop+this.props.bottomOffset>=e.target.scrollHeight&&this.handleBottom()),this.scrollTop=e.target.scrollTop}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),s=n(2),l=r(s),u=n(10),c=r(u),d=i.default.createClass({displayName:"LazyImg",propType:{src:i.default.PropTypes.string,placeholder:i.default.PropTypes.string,targetId:i.default.PropTypes.string},getInitialState:function(){return{show:!1}},render:function(){var e=(0,l.default)("lazy-img",this.props.className);return i.default.createElement("img",a({ref:"img",className:e},this.props,{src:this.state.show?this.props.src:this.props.placeholder}))},targetDom:null,componentDidMount:function(){this.targetDom=this.props.targetId?document.getElementById(this.props.targetId):document.getElementsByClassName("page-content")[0],this.targetDom&&(this.targetDom.addEventListener("scroll",this.onScroll),this.doLazy())},componentWillUnmount:function(){this.removeListener()},removeListener:function(){this.targetDom&&this.targetDom.removeEventListener("scroll",this.onScroll)},timer:null,onScroll:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.doLazy()},500)},doLazy:function(){c.default.isElementOverViewport(this.refs.img)&&(this.setState({show:!0}),this.removeListener())}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(4),s=r(i),l="_mgm_nprogress_container"+(Math.random()+"").slice(2),u=document.getElementById(l);u||(u=document.createElement("div"),u.className="nprogress-container",u.id=l,document.body.appendChild(u));var c={start:function(){s.default.unmountComponentAtNode(u),s.default.render(o.default.createElement(d,null),u)},done:function(){s.default.render(o.default.createElement(d,{precent:100}),u),setTimeout(function(){s.default.unmountComponentAtNode(u)},250)}},d=o.default.createClass({displayName:"NProgress",statics:c,getInitialState:function(){return{precent:0}},componentWillReceiveProps:function(e){e.precent&&(clearTimeout(this.timer),this.setState({precent:e.precent}))},render:function(){var e=100-this.state.precent;return o.default.createElement("div",{className:"nprogress",style:{transform:"translate3d(-"+e+"%, 0px, 0px)"}},o.default.createElement("div",{className:"nprogress-head"}))},componentDidMount:function(){this.doInc()},componentWillUnmount:function(){clearTimeout(this.timer)},doInc:function(){var e=this;e.timer=setTimeout(function(){e.setState({precent:e.state.precent+.2*(100-e.state.precent)}),e.state.precent<90&&e.doInc()},150)}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),s=n(2),l=r(s),u=n(5),c=r(u),d=i.default.createClass({displayName:"Page",propTypes:{children:o.PropTypes.node,className:o.PropTypes.string,white:o.PropTypes.bool,header:o.PropTypes.node,tabbar:o.PropTypes.node},getDefaultProps:function(){return{}},render:function(){var e=(0,l.default)({page:!0,"page-white":this.props.white},this.props.className);return this.props.header||this.props.tabbar?i.default.createElement(c.default,a({column:!0},this.props,{className:e}),this.props.header&&i.default.createElement(c.default,{column:!0},this.props.header),i.default.createElement(c.default,{flex:!0,column:!0,className:"page-content block"},this.props.children),this.props.tabbar&&i.default.createElement(c.default,{column:!0,className:"page-tabbar"},this.props.tabbar)):i.default.createElement("div",{className:(0,l.default)(e,"page-content")},this.props.children)}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),s=r(i),l=n(2),u=r(l),c=n(7),d=r(c),f=n(3),p=r(f),h=s.default.createClass({displayName:"Popup",propTypes:{show:i.PropTypes.bool,onChange:i.PropTypes.func,left:i.PropTypes.bool,bottom:i.PropTypes.bool,width:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number]),height:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number]),opacity:i.PropTypes.number},getDefaultProps:function(){return{show:!1,onChange:function(){}}},render:function(){var e=this.props,t=(0,u.default)("popup",{active:e.show,"popup-left":e.left,"popup-bottom":e.bottom},e.className),n=p.default.extend({},e.style);e.left&&e.width?n.width=e.width:e.bottom&&e.height&&(n.height=e.height);var r=e.opacity,i=a(e,["opacity"]);return s.default.createElement("div",{className:"popup-wrap"},s.default.createElement(d.default,{show:e.show,opacity:r||.1,onClick:this.handleChange}),s.default.createElement("div",o({},i,{className:t,style:n}),s.default.createElement("div",{className:"popup-content"},e.children)))},handleChange:function(e){e.preventDefault(),this.props.onChange(!this.props.show)}});t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(4),d=r(c),f=window.navigator.userAgent.indexOf("iPhone")>-1,p=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.target=null,n}return i(t,e),s(t,[{key:"render",value:function(){return u.default.cloneElement(this.props.children,{onFocus:this.handleFocus.bind(this)})}},{key:"componentWillMount",value:function(){"[object Object]"!==toString.call(this.props.children)&&console.error("There must be one and only one component")}},{key:"componentDidMount",value:function(){this.target=d.default.findDOMNode(this)}},{key:"componentWillUnmount",value:function(){this.target=null}},{key:"handleFocus",value:function(){var e=this;f||setTimeout(function(){e.target&&e.target.scrollIntoView()},500)}}]),t}(u.default.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(2),s=r(i),l=o.default.createClass({displayName:"SearchBar",propTypes:{defaultFocus:a.PropTypes.bool,value:a.PropTypes.string.isRequired,onChange:a.PropTypes.func.isRequired,placeholder:a.PropTypes.string,onOK:a.PropTypes.func,onCancel:a.PropTypes.func},getDefaultProps:function(){return{id:"_mgm_search_bar_id"+(Math.random()+"").slice(2),defaultFocus:!1,onOK:function(){},onCancel:function(){}}},getInitialState:function(){return{focus:this.props.defaultFocus}},render:function(){var e=(0,s.default)("search-bar weui_search_bar",{weui_search_focusing:this.props.value||this.state.focus});return o.default.createElement("div",{className:e},o.default.createElement("form",{className:"weui_search_outer",onSubmit:this.handleOK},o.default.createElement("div",{className:"weui_search_inner"},o.default.createElement("i",{className:"weui_icon_search"}),o.default.createElement("input",{id:this.props.id,type:"search",className:"weui_search_input",placeholder:this.props.placeholder,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,ref:"input",value:this.props.value}),""===this.props.value?void 0:o.default.createElement("a",{href:"javascript:",className:"weui_icon_clear",onClick:this.handleClear})),o.default.createElement("label",{htmlFor:this.props.id,className:"weui_search_text"},o.default.createElement("i",{className:"weui_icon_search"}),o.default.createElement("span",null,this.props.placeholder))),o.default.createElement("a",{href:"javascript:",className:"weui_search_cancel",onClick:this.handleCancle},"取消"))},handleFocus:function(e){e.preventDefault(),this.setState({focus:!0})},handleBlur:function(e){e.preventDefault(),this.setState({focus:!1})},handleClear:function(e){e.preventDefault(),this.props.onChange(""),this.refs.input.focus()},handleCancle:function(e){e.preventDefault(),this.setState({focus:!1}),this.props.onChange(""),this.props.onCancel(),this.refs.input.blur()},handleOK:function(e){e.preventDefault(),this.props.onOK(),this.setState({focus:!1})},handleChange:function(e){this.props.onChange(e.target.value)}});t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),s=n(4),l=r(s),u=n(2),c=r(u),d=n(3),f=r(d),p=n(5),h=r(p),m=i.default.createClass({displayName:"Slider",getInitialState:function(){return{count:1,sliderWidth:0,touchObject:null,dragging:!1,transition:!1,x:0}},componentWillReceiveProps:function(e){this.setState({count:"[object Array]"===toString.call(e.children)?e.children.length:1})},render:function(){var e=this.state.touchObject,t=e?e.x-e.startX+this.state.x:this.state.x,n=(0,c.default)({"slider-transition":this.state.transition},this.props.className),r={WebkitTransform:"translate3d("+t+"px, 0, 0)",transform:"translate3d("+t+"px, 0, 0)"};return i.default.createElement("div",{className:"slider"},i.default.createElement(h.default,a({},this.props,{ref:"slider",className:n,onMouseDown:this.swipeStart,onMouseMove:this.swipeMove,onMouseUp:this.swipeEnd,onMouseLeave:this.swipeEnd,onTouchStart:this.swipeStart,onTouchMove:this.swipeMove,onTouchEnd:this.swipeEnd,onTouchCancel:this.swipeEnd,style:r}),this.renderChild()),this.renderFlag())},renderChild:function(){var e=this.props.children;return"[object Array]"!==toString.call(this.props.children)&&(e=[this.props.children]),f.default.map(e,function(e,t){return i.default.cloneElement(e,{style:f.default.extend({},e.props.style,{width:"100%"}),className:(0,c.default)("slider-cell flex flex-none",e.props.className),key:t})})},renderFlag:function(){var e=this;return i.default.createElement(h.default,{justifyCenter:!0,className:"slider-flag"},f.default.map(f.default.range(this.state.count),function(t,n){return i.default.createElement("span",{className:(0,c.default)({active:Math.abs(e.state.x/e.state.sliderWidth)===n}),key:n})}))},componentDidMount:function(){this.setSliderWidth(),this.setCount(),window.addEventListener("resize",this.setSliderWidth)},setCount:function(){this.setState({count:"[object Array]"===toString.call(this.props.children)?this.props.children.length:1})},componentWillUnmount:function(){window.removeEventListener("resize",this.setSliderWidth)},setSliderWidth:function(){var e=l.default.findDOMNode(this.refs.slider);this.setState({sliderWidth:e.offsetWidth})},getX:function(e){return void 0!==e.touches?e.touches[0].pageX:e.clientX},swipeStart:function(e){e.preventDefault(),this.setState({dragging:!0,transition:!1,touchObject:{startX:this.getX(e),x:this.getX(e)}})},swipeMove:function(e){e.preventDefault(),this.setState({dragging:!0,transition:!1,touchObject:f.default.extend({},this.state.touchObject,{x:this.getX(e)})})},swipeEnd:function(e){e.preventDefault();var t=this.state.touchObject,n=t.x-t.startX,r=this.state.x;t&&Math.abs(n)>50?(n>0?r+=this.state.sliderWidth:r-=this.state.sliderWidth,r>0&&(r=0),r<-(this.state.sliderWidth*(this.state.count-1))&&(r=-(this.state.sliderWidth*(this.state.count-1))),this.setState({transition:!0,dragging:!1,touchObject:null,x:r})):this.setState({transition:!0,dragging:!1,touchObject:null})}});t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),s=n(2),l=r(s),u=i.default.createClass({displayName:"Square",render:function(){var e=(0,l.default)("square-inner",this.props.className);return i.default.createElement("div",{className:"square"},i.default.createElement("div",a({},this.props,{className:e}),this.props.children))}});t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(3),s=r(i),l=o.default.PropTypes,u="_react-gmm_",c=o.default.createClass({displayName:"Storage",statics:{set:function(e,t){localStorage.setItem(u+e,JSON.stringify(t))},get:function(e){var t=localStorage.getItem(u+e);return t?JSON.parse(t):t},remove:function(e){localStorage.removeItem(u+e)},clear:function(){localStorage.clear()},getAll:function(){for(var e,t={},n=0;n<localStorage.length;n++)e=localStorage.key(n),e.startsWith(u)&&(e=e.slice(u.length),t[e]=c.get(e));return s.default.keys(t)?t:null}},propTypes:{name:l.string.isRequired,value:l.oneOfType([l.string,l.object,l.array]),autoSave:l.bool},getDefaultProps:function(){return{autoSave:!0}},save:function(){c.set(this.props.name,this.props.value)},componentWillUpdate:function(){this.props.autoSave&&this.save()},componentWillMount:function(){this.save()},render:function(){return null}});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),s=n(2),l=r(s),u=i.default.createClass({displayName:"Textarea",getDefaultProps:function(){return{wrapProps:{}}},render:function(){var e=(0,l.default)("textarea-adapter",this.props.wrapProps.className);return i.default.createElement("div",a({},this.props.wrapProps,{className:e}),i.default.createElement("pre",null,this.props.value),i.default.createElement("textarea",a({},this.props,{className:(0,l.default)("weui_textarea",this.props.className)})))}});t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(4),s=r(i),l=n(7),u=r(l),c=n(6),d=r(c),f=n(3),p=r(f),h="_mgm_toasts_container"+(Math.random()+"").slice(2),m=document.getElementById(h);m||(m=document.createElement("div"),m.className="mgm-toasts",m.id=h,document.body.appendChild(m));var g={};g={_queue:[],_ing:!1,_render:function(){if(!g._ing){var e=g._queue.shift();if(void 0!==e){g._ing=!0;var t=e.onFinish,n=document.createElement("div");return n.className="mgm-toasts-cell",m.appendChild(n),e.onFinish=function(){t&&t(),m.removeChild(n),g._ing=!1,g._queue.length>0&&setTimeout(function(){g._render()},500)},s.default.render(o.default.createElement(y,e,e.children),n),n}}},clear:function(e){s.default.unmountComponentAtNode(e)},tip:function(e){return"string"==typeof e&&(e={children:e}),e=p.default.extend({show:!0},e),g._queue.push(e),g._render()},success:function(e){return"string"==typeof e&&(e={children:e}),g.tip(p.default.extend({success:!0},e))},info:function(e){return"string"==typeof e&&(e={children:e}),g.tip(p.default.extend({info:!0},e))},warning:function(e){return"string"==typeof e&&(e={children:e}),g.tip(p.default.extend({
warning:!0},e))},danger:function(e){return"string"==typeof e&&(e={children:e}),g.tip(p.default.extend({danger:!0},e))},loading:function(e){return"string"==typeof e&&(e={children:e}),g.tip(p.default.extend({loading:!0},e))}};var y=o.default.createClass({displayName:"Toast",statics:g,propTypes:{onClick:o.default.PropTypes.func,onFinish:o.default.PropTypes.func,show:o.default.PropTypes.bool,time:o.default.PropTypes.any,loading:o.default.PropTypes.bool,icon:o.default.PropTypes.any,success:o.default.PropTypes.bool,info:o.default.PropTypes.bool,warning:o.default.PropTypes.bool,danger:o.default.PropTypes.bool},getDefaultProps:function(){return{show:!1,time:2e3,loading:!1,icon:null,onClick:function(){},onFinish:function(){}}},getInitialState:function(){return{show:this.props.show}},componentWillReceiveProps:function(e){void 0!==e.show&&this.setState({show:e.show})},render:function(){var e=this.props.icon,t=this.props.children;return this.props.loading?(e=o.default.createElement(d.default,null),t=t||"加载中..."):this.props.success?e=o.default.createElement("i",{className:"ifont ifont-success"}):this.props.info?e=o.default.createElement("i",{className:"ifont ifont-info-circle"}):this.props.warning?e=o.default.createElement("i",{className:"ifont ifont-warning"}):this.props.danger&&(e=o.default.createElement("i",{className:"ifont ifont-close"})),o.default.createElement("div",{style:{display:this.state.show?"block":"none"}},o.default.createElement(u.default,{show:this.state.show,opacity:.1}),o.default.createElement("div",{className:"toast-container"},o.default.createElement("div",{className:"toast",onClick:this.handleClick},e,o.default.createElement("div",{className:"toast-content"},t))))},timer:null,componentDidMount:function(){var e=this;e.props.time&&(e.timer=setTimeout(function(){e.setState({show:!1}),e.handleFinish()},e.props.time))},componentWillUnmount:function(){var e=this;clearTimeout(e.timer),e.setState({show:!1}),e.handleFinish()},componentDidUpdate:function(){this.state.show===!1&&this.handleFinish()},handleClick:function(){this.props.onClick()},isFinished:!1,handleFinish:function(){this.isFinished||(this.isFinished=!0,this.props.onFinish())}});t.default=y},function(e,t){}])});